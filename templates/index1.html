<!--{% extends 'base.html' %}-->
{% block title %} AddStudents {% endblock title %}
{% block body %}
    <div class="container my-3">
        <h2>Add Students</h2><br>
        <form action="/admin" method="POST">
        <div class="mb-3">
            <label>Enter your Student ID</label>
            <input type="number"  name="stuid" min = "1"  onkeypress="validate(event)" required><br>
        </div>

        <div class="mb-3">
            <label>Enter Student Name</label>
            <input type="text" name="name" pattern="[a-zA-Z'-'\s]*" required><br>
        </div>

        <div class="mb-3">
            <label>Enter EmailID</label>
            <input type="email" name="email" onkeypress="validate(event)" required><br>
        </div>

        <div class="mb-3">
            <label>Enter Mobile Number</label>
            <input type="text" name="mbno" pattern="[6-9]{1}[0-9]{9}" onkeypress="validate(event)"  required><br>
        </div>

        <div class="mb-3">
            <label>Enter Maths Marks</label>
            <input type="number" min = "0" max="100" name="mtmarks" required><br>
        </div>
        <div class="mb-3">
            <label>Enter Science Marks</label>
            <input type="number" min = "0" max="100" name="scmarks" required><br>
        </div>

        <div class="mb-3">
            <label>Enter Computer Marks</label>
            <input type="number" min = "0" max="100" name="csmarks" required><br>
        </div>

        <input type="submit" class="btn btn-outline-dark" name="register">

        </form>
    </div>
                       <div class="container">
        <div class="row">
            <div class="col-8">
                <strong>You Search For :</strong> <h6 style="color:red"> {{tag}}</h6>

            </div>
            <div class="col-4">
                <form action="/search" method="post" autocomplete="off">
                    <div class="row">
                    <div class="col-6">
                        <input type="text" style="width:180px" class="form-control" name="tag" id="tag" size="70" placeholder="Search Student Name" required/>
                    </div>
                    <div class="col-6" align="left">
                        <input type="submit" value="Search" class="form-control btn btn-outline-dark " name="">
                    </div>
                    </div>
                </form>

            </div>
        </div>
    </div>


        <div class="container my-3">
            <h3> Details </h3>
            {% if alldata1 == None %}

            <div class="alert alert-dark" role="alert">
                No Record....Please Add Students Information
            </div>



            {% else %}


            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">SNo</th>
                        <th scope="col">Roll No.</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email ID</th>
                        <th scope="col">Contact</th>
                        <th scope="col">Math Marks</th>
                        <th scope="col">Science Marks</th>
                        <th scope="col">Computer Marks</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>

                    {% for stu in alldata1.items %}

                    <tr>
                        <th scope="row">{{loop.index}}</th>
                        <td>{{stu.stuid}}</td>
                        <td>{{stu.name}}</td>
                        <td>{{stu.email}}</td>
                        <td>{{stu.mbno}}</td>
                        <td>{{stu.mtmarks}}</td>
                        <td>{{stu.scmarks}}</td>
                        <td>{{stu.csmarks}}</td>


                        <td>
                        <a href="/update/{{stu.stuid}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Update</button>
                        <a href="/delete/{{stu.stuid}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Delete</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% endif %}
        </div>

<script>
    function validate(event) {
      if (event.key == "-") {
        event.preventDefault();
        return false;
      }
    }
</script>

        <!-- Pagination Links-->
<div class="d-grid gap-2 d-md-flex justify-content-md-end">
         <nav aria-label="Page navigation example">
                <ul class="pagination">
                    {% if alldata1.has_prev %}
                      <li class="page-item"> <a class="page-link" href="{{ url_for('add',page=alldata1.prev_num) }}">Previous</a></li>
                    {% else %}
                      <li class="page-item"><a class="page-link btn disabled" href="#">Previous</a></li>
                    {% endif %}

     {% for page_num in alldata1.iter_pages(left_edge=3, right_edge=3) %}
     {% if page_num %}

      {% if page_num==alldata1.page %}
       <li class="page-item active"><a class="page-link" href="{{ url_for('add', page=page_num) }}">{{ page_num }}</a></li>
      {% else %}
       <li class="page-item"><a class="page-link" href="{{ url_for('add', page=page_num) }}">{{ page_num }}</a></li>
      {% endif %}

     {% else %}
      <li class="page-item disabled" id="example_ellipsis"><a href="#" class="page-link">â€¦</a></li>
     {% endif %}
     {% endfor %}

                    {% if alldata1.has_next %}
                      <li class="page-item"> <a class="page-link" href="{{ url_for('add', page=alldata1.next_num) }}">Next</a></li>
                    {% else %}
                      <li class="page-item"><a class="page-link btn disabled d-grid gap-2 col-6 mx-auto" href="#">Next</a></li>
                    {% endif %}

                </ul>



    </nav>
</div>
<div class="d-grid gap-2 col-6 mx-auto">
  <a  href="#" type="button" class="btn btn-outline-dark ">Go Back to Dashboard</a>

</div>






    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
 {% endblock body %}